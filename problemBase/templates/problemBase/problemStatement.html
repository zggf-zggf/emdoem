{% extends "problemBase/problem.html" %}
{% load custom_tags %}
{% load crispy_forms_tags %}

{% block innerContent %}
    <div class="justify-content-center d-flex flex-column" style="padding-bottom: 200px;">
        <div class="d-flex flex-row w-100">
            <div class="d-flex flex-fill">
                <h1>{{ name }}</h1>
            </div>
            <div class="d-flex flex-row justify-content-end flex-fill">
                <div class="d-flex flex-column h-100 justify-content-center align-items-center">
                <div class="d-flex flex-row align-self-end">
                    <div class="d-flex mr-2">
                        <i class="bi bi-eye mx-2 p-0"></i>
                    </div>
                    <div class="d-flex">
                        {{ watching_count }}
                    </div>
                </div>
                </div>
                <div class="d-flex flex-column justify-content-center h-100 px-3 align-self-end">
                    <a class="btn align-self-end {% if watched %} btn-info {% else %} btn-outline-info {% endif %}"
                                           href="{% url 'problems:watch_problem' pk=pk %}">Śledź</a>
                </div>
            </div>
        </div>


        <div class="flex-column justify-content-center" style="word-wrap: break-word;">
            <p>{{ problem_statement|safe }}</p>
        </div>
        <div class="ml-4">
            <button class="btn btn-outline-secondary mb-4 mt-5" data-bs-toggle="collapse" href="#solutionForm"
                    role="button"
                    aria-expanded="false" aria-controls="solutionForm" data-bs-target="#solutionForm"
                    style="width: 200px;">
                Dodaj rozwiązanie
            </button>
            <div class="collapse" id="solutionForm">
                {% crispy solution_form %}
            </div>
        </div>
    </div>
{% endblock %}